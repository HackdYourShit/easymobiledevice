CC = gcc
uname_s = $(shell uname -s)
TARGET = easymobiledevice

all : $(TARGET)

easymobiledevice : src/easymobiledevice.o src/easymobiletools.o
		$(CC) -o easymobiledevice src/easymobiledevice.o src/easymobiletools.o
		@echo 'Successfully built $(TARGET) for $(uname_s)'

easymobiledevice.o : src/easymobiledevice.c
		$(CC) -c src/easymobiledevice.c -o src/easymobiledevice.o

easymobiletools.o : src/easymobiletools.c
		$(CC) -c src/easymobiletools.c -o src/easymobiletools.o

install :
		cp $(TARGET) /usr/local/bin/

clean : 
		rm -rf src/*.o easymobiledevice
